(function(e){function t(a){if(o[a])return o[a].exports;var s=o[a]={i:a,l:!1,exports:{}};return e[a].call(s.exports,s,s.exports,t),s.l=!0,s.exports}var o={};return t.m=e,t.c=o,t.d=function(e,o,a){t.o(e,o)||Object.defineProperty(e,o,{configurable:!1,enumerable:!0,get:a})},t.n=function(e){var o=e&&e.__esModule?function(){return e['default']}:function(){return e};return t.d(o,'a',o),o},t.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},t.p='',t(t.s=15)})([function(e,t,o){'use strict';o.d(t,'a',function(){return a});class a{constructor(){this._index=0,this._objects=[]}each(e){this._objects.forEach(e)}map(e){return this._objects.map(e)}filter(e){return this._objects.filter(e)}find(e){return this._objects.find(e)}add(e,t,o){t=t||0,o=o||{};const a=this._index++;this._objects.push({obj:e,zIndex:t||0,index:a,meta:o}),this._objects.sort((e,t)=>e.zIndex-t.zIndex||e.index-t.index)}resize(){for(let e,t=0;t<this._objects.length;t++)e=this._objects[t].obj,e.resize&&e.resize(),e._objects&&e._objects.resize()}update(e,t){for(let o,a=0;a<this._objects.length;a++)o=this._objects[a].obj,o.update&&o.update(e,t),o._objects&&o._objects.update(e,t)}render(e,t){for(let o,a=0;a<this._objects.length;a++)o=this._objects[a].obj,o.render&&o.render(e,t),o._objects&&o._objects.render(e,t)}removeOne(e){let t=-1;for(let o=0;o<this._objects.length;o++)if(this._objects[o].obj===e){t=o;break}-1!==t&&this._objects.splice(t,1)}destroyOne(e){this.removeOne(e),e.destroy&&e.destroy(),e._objects&&e._objects.destroyAll()}destroyAll(){for(let e,t=0;t<this._objects.length;t++)e=this._objects[t].obj,e.destroy&&e.destroy(),e._objects&&e._objects.destroyAll();this._objects.splice(0)}dump(){return this._objects.map((e)=>{let t=e.obj.dump?e.obj.dump():e.obj;return e.obj._objects?{_:t,__:e.obj._objects.dump()}:t})}}},function(e,t,o){'use strict';var a=Math.PI;o.d(t,'g',function(){return i}),o.d(t,'a',function(){return s}),o.d(t,'b',function(){return r}),o.d(t,'c',function(){return n}),o.d(t,'f',function(){return l}),o.d(t,'e',function(){return d}),o.d(t,'d',function(){return c});const s=a/2,r=a,n=3*a/2,i=(e,t,o,s)=>(s=s||0,t=t||0,o=o||1,t+(o-t)*(1+Math.sin(2*e*a/1e3+s))/2),l=(e,t,o,a)=>(a=a||_,t+(o-t)*a(Math.max(0,Math.min(1,e)))),_=(e)=>e,d=(e)=>e*e*e,c=(e,t)=>{const o=e[0]+e[2]>=t[0],a=e[0]<=t[0]+t[2],s=e[1]+e[3]>=t[1],r=e[1]<=t[1]+t[3];return o&&a&&s&&r}},function(e,t,o){'use strict';var a=Math.round;o.d(t,'a',function(){return r});const s=10;class r{constructor(e,t){this._layer=e,this._ctx=e.ctx,this._config=t,this._config.x=this._config.x||this._layer.center.x,this._config.y=this._config.y||this._layer.center.y,this._config.color=this._config.color||'rgb(230, 230, 230)',this._config.size=this._config.size||20,this._config.bgColor=this._config.bgColor,this._config.align=this._config.align||'center',this._config.baseline=this._config.baseline||'top',this._text=t.text,this._fontSize=null,this._pos=null,this._scaledPos=null,this._dim=null,this._hidden=!1,this._requireRender=!1,this.resize()}_formatText(){const e=this._ctx;e.font=this._fontSize+'px pixel',e.textAlign=this._config.align,e.textBaseline=this._config.baseline,this._dim=this._ctx.measureText(this._text)}hide(){this._hidden=!0,this._requireRender=!0}setText(e){this._text=e,this.resize()}render(){if(this._requireRender&&!this._hidden){this._requireRender=!1;const e=this._ctx,t=this._layer.scalePoint(this._pos);this._formatText(),e.clearRect(...this._rect),this._config.bgColor&&(e.fillStyle=this._config.bgColor,e.fillRect(...this._rect)),e.fillStyle=this._config.color,e.fillText(this._text,t.x,t.y)}}resize(){this._fontSize=this._layer.scaleText(this._config.size,9),this._pos={x:this._config.x,y:this._config.y};const e=this._layer.scalePoint(this._pos);this._formatText();let t=e.x;const o=e.y-s,r=a(this._dim.width+2*s),n=this._fontSize+2*s;'center'===this._config.align&&(t-=a(this._dim.width/2+s)),'right'===this._config.align&&(t-=a(this._dim.width-2*s)),this._rect=[t,o,r,n],this._requireRender=!0}}},function(e,t,o){'use strict';o.d(t,'a',function(){return a});class a{constructor(e,t,o){this._name=e,this._transitions=t,this._debug=o,this._state=null,this._leaveStateFn=null}to(e,t,o,a){const s=this._state,r=this._transitions[e];if(r&&-1===r.indexOf(this._state))throw new Error('Invalid state transition in "'+this._name+'" from "'+s+'" to "'+e+'"');return t&&!t(s)?(this._debug&&console.warn(this._name+' > refused transition '+s+' > '+e),!1):void(this._leaveStateFn&&this._leaveStateFn(e),this._state=e,this._leaveStateFn=a,this._debug&&console.log(this._name+' > '+s+' to '+e),o())}}},function(e,t,o){'use strict';var a=Math.round,s=Math.cos;o.d(t,'a',function(){return i});var r=o(0),n=o(1);class i{constructor(e,t){this._layer=e,this._ctx=e.ctx,this._config=t,this._config.y=this._config.y||this._layer.center.y,this._config.size=this._config.size||90,this._text=t.text,this._fontSize=null,this._pos=null,this._scaledPos=null,this._skip=3,this._skipped=0,this._iteration=0,this.resize(),this._scheduleSlowDown()}_scheduleSlowDown(){this._slowDown=!1,window.clearTimeout(this._timeoutId),this._timeoutId=window.setTimeout(()=>{this._slowDown=!0},500)}render(){const e=this._ctx,t=this._layer;if(this._slowDown&&this._skipped++<this._skip)return;e.font=this._fontSize+'px pixel',e.textAlign='center',e.textBaseline='middle',this._skipped=0,this._iteration+=this._slowDown?5:55;const o=this._iteration,r=this._layer.scalePoint(this._pos),n=this._slowDown;let i=t.scaleValue(5*s(o*(n?5:50)))+r.x,l=t.scaleValue(5*Math.sin(o*(n?5:50)))+r.y;const _=n?0.6:0.9;e.shadowBlur=n?4:2,e.shadowColor='hsl(40,50%,50%)',e.fillStyle='hsla('+3*o%100+',99%,50%,'+_+')',e.fillText(this._text,a(i),a(l)),i=s(o*(n?1:5))*(n?0.7:5)+r.x,l=r.y,e.fillStyle='black',e.fillText(this._text,a(i),a(l))}resize(){this._fontSize=this._layer.scaleText(this._config.size),this._pos={x:this._layer.center.x,y:this._config.y}}destroy(){window.clearTimeout(this._timeoutId)}}},function(e,t,o){'use strict';o.d(t,'b',function(){return a}),o.d(t,'a',function(){return s});const a=()=>{const e={},t={};return t.on=(t,o)=>((e[t]=e[t]||[]).push(o),this),t.once=(e,o)=>{const a=()=>{t.off(e,a),o.apply(this,arguments)};return t.on(e,a),this},t.off=(t,o)=>{const a=e[t];if(!a)return this;let s;for(let e=0;e<a.length;e++)if(s=a[e],s===o){a.splice(e,1);break}return this},t.emit=(t)=>{const o=[].slice.call(arguments,1);let a=e[t];if(a){a=a.slice(0);for(let e=0,t=a.length;e<t;++e)a[e].apply(this,o)}return this},t.destroy=()=>{for(let t in e){let o=e[t];o.splice(0,o.length)}},t},s=(e,t,o)=>{o=o||['on','once','off'],o.forEach((o)=>{e[o]=(e,a)=>{t[o](e,a)}})}},function(e,t,o){'use strict';o.d(t,'a',function(){return n});var a=o(0),s=o(1);const r=4;class n{constructor(e,t,o){this._layer=e.newLayer('level-num',null,null,o.zIndex),this._ctx=this._layer.ctx,this._config=o,this._number=t,this._maxFontSize=null,this._fontSize=null,this._dim=null,this._timeoutId=0,this._timestamp=null,this.resize()}render(e,t){const o=this._ctx;this._timestamp||(this._timestamp=t);const a=Math.round(30*Object(s.g)(t)),n=this._layer.scaleValue(0.98*this._layer.max.x),i=this._layer.scaleValue(0.02*this._layer.max.y),l=this._dim,_=l.width-2,d=this._fontSize-3,c=[n-_-r,i-r,_+4*r,d+2*r-3];o.clearRect(...c),o.fillStyle='rgba(0,0,0,0.5)',o.fillRect(...c),o.fillStyle='hsl('+a+',95%,60%)',o.fillText('L'+this._number,n+r,i)}resize(){this._fontSize=this._layer.scaleText(40,20),this._maxFontSize=this._layer.scaleText(100);const e=this._ctx;e.font=this._fontSize+'px pixel',e.textAlign='right',e.textBaseline='top',this._dim=this._ctx.measureText('L'+this._number)}destroy(){this._layer.destroy(),window.clearTimeout(this._timeoutId)}}},function(e,t,o){'use strict';var a=o(20),s=a.a.Symbol;t.a=s},function(e,t,o){'use strict';var a=Math.ceil,s=Math.round;o.d(t,'a',function(){return f});var r=o(9),n=o(28),i=o(29);const l='contain',_='cover',d=[l,_],c='px',p='100%',m='div',y='center';class f{constructor(e,t){if(this._container=e,t=t||{},this.ratio=t.ratio||4/3,this.scaleAxis=t.scaleAxis||'width',this.mode=t.mode||f.MODE_CONTAIN,this.maxPixels=t.maxPixels||480000,this.pixelRatio=null,this.width=null,this.height=null,this.scale=null,this.transform=null,this.center=null,this.offset=null,this.min=null,this.max=null,!this.mode)this.mode=d[0];else if(-1===d.indexOf(this.mode))throw new Error('Invalid mode "'+this.mode+'"');this._layers=[],this._layersByName={},e.style.width=p,e.style.height=p;const o=document.createElement(m);o.classList.add('x-canvas'),o.style.display='flex',o.style.alignItems=y,o.style.justifyContent=y,o.style.width=p,o.style.height=p,e.appendChild(o),this._root=o;const a=document.createElement(m);a.classList.add('x-canvas-size'),o.appendChild(a),this._sizer=a;const s=document.createElement(m);s.classList.add('x-canvas-scale'),a.appendChild(s),this._scaler=s,this.surface=new n.a(this),s.appendChild(this.surface._element),this.resize()}static get MODE_COVER(){return _}static get MODE_CONTAIN(){return l}newLayer(e,t,o,a,s){const r=new i.a(this,e,t,o,a);return this._layers.push(r),s||this._scaler.appendChild(r._element),r}newVirtualLayer(e,t,o,a){return this.newLayer(e,t,o,a,!0)}purgeLayer(e){const t=this._layers.indexOf(e);-1!==t&&this._layers.splice(t,1)}resize(){const e=this._sizer,t=this._scaler;e.style.width='',e.style.height='',t.style.display='none',t.style.width='',t.style.height='',t.style.transform='',this.pixelRatio=window.devicePixelRatio||1;const o=this._container.clientWidth,r=this._container.clientHeight,n=o/r<this.ratio;let i,_,d,p,m,y,f={x:1e3,y:1e3};this.mode===l?n?(i=o,_=s(i/this.ratio)):(_=r,i=s(_*this.ratio)):(i=o,_=r,this.ratio=i/_),({width:d,height:p}=((e,t,o,s)=>{const r=e*t;return r>o&&(e=a(Math.sqrt(o*s)),t=a(e/s)),{width:e,height:t}})(i*this.pixelRatio,_*this.pixelRatio,this.maxPixels,this.ratio)),m='width'===this.scaleAxis?d/1e3:p/1e3,y=n?o/d:r/p,'width'===this.scaleAxis?(m=d/1e3,f.y=1e3/this.ratio):(m=p/1e3,f.x=1e3*this.ratio),e.style.width=i+c,e.style.height=_+c,t.style.display='block',t.style.width=d+c,t.style.height=p+c,t.style.position='relative',y&&(t.style.transform='scale('+y+', '+y+')',t.style.transformOrigin='top left'),this.width=d,this.height=p,this.scale=m,this.transform=y,this.center={x:s(f.x/2),y:s(f.y/2)},this.offset={x:this._scaler.offsetLeft,y:this._scaler.offsetTop},this.min={x:0,y:0},this.max=f,this.surface.resize();for(var x=0;x<this._layers.length;x++)this._layers[x].resize()}scaleValue(e){return s(this.scale*(e+1))}normalValue(e){return s(e/this.scale)}scaleText(e,t=0){return Math.max(s(this.scale*e),t/this.transform)}scalePoint(e){return{x:s(this.scale*(e.x+1)),y:s(this.scale*(e.y+1))}}scalePath(e){return e.map((e)=>this.scalePoint(e))}scaleSize(e){return{w:s(this.scale*(e.w+1)),h:s(this.scale*(e.h+1))}}scaleArray(e){return e.map((e)=>s(this.scale*(e+1)))}destroy(){this.surface.destroy(),this._emitter.destroy(),this._layers.forEach((e)=>e.destroy()),this._root.remove()}}},function(e,t,o){'use strict';o.d(t,'a',function(){return y});const a='[object ',s={I8:a+'Int8Array]',I16:a+'Int16Array]',I32:a+'Int32Array]',F32:a+'Float32Array]',F64:a+'Float64Array]',U8:a+'Uint8Array]',U8C:a+'Uint8ClampedArray]',U16:a+'Uint16Array]',U32:a+'Uint32Array]',AB:a+'ArrayBuffer]',BL:a+'Boolean]',NM:a+'Number]',ST:a+'String]',DT:a+'Date]',RE:a+'RegExp]',BB:a+'Blob]'},r=(e)=>e&&e.window===e,n=(e)=>'undefined'==typeof e,i=(e)=>'function'==typeof e,l=(e)=>null!==e&&'object'==typeof e,_=Array.isArray,d=(e)=>!!(l(e)&&e.nodeName),c=(e)=>window.toString.call(e)===s.RE,p=(e)=>window.toString.call(e)===s.DT,m=(e,t)=>{n(e)&&(e={});for(let o=0,a=t.length;o<a;++o){const a=t[o];if(!l(a)&&!i(a))continue;const s=Object.keys(a);for(let t=0,o=s.length;t<o;t++){const o=s[t],r=a[o];l(r)?p(r)?e[o]=new Date(r.valueOf()):c(r)?e[o]=new RegExp(r):r.nodeName?e[o]=r.cloneNode(!0):d(r)?e[o]=r.clone():(!l(e[o])&&(e[o]=_(r)?[]:{}),m(e[o],[r],!0)):e[o]=r}}return e},y=(e)=>new Promise((t)=>setTimeout(t,e))},function(e,t,o){'use strict';o.d(t,'a',function(){return s});const a=10;class s{constructor(e,t){this._layer=e.newLayer('menu'),this._ctx=this._layer.ctx,this._fontSize=null,this._text=t.join(' : '),this._bgColor='rgba(0,0,0,0.5)',this._color='rgb(230, 230, 230)',this._pos={x:this._layer.max.x,y:0.05*this._layer.max.y},this._dim=null,this._pauseTimestamp=null,this.resize()}_formatText(){const e=this._ctx;e.font=this._fontSize+'px pixel',e.textAlign='left',e.textBaseline='top',this._dim=this._ctx.measureText(this._text)}update(e,t){this._pauseTimestamp||(this._pos.x-=e/1.5),!this._pauseTimestamp&&this._pos.x<this._layer.center.x-this._layer.normalValue(this._dim.width)/2&&(this._pos.x=this._layer.center.x-this._layer.normalValue(this._dim.width)/2,this._pauseTimestamp=t)}render(){const e=this._ctx,t=this._dim,o=this._pos.x,s=this._pos.y,r=this._layer.normalValue(t.width)+2*a,n=this._layer.normalValue(this._fontSize)+2*a,i=this._layer.scaleArray([o-a,s-a,r,n]);e.clearRect(...(this._lastRect||i)),e.fillStyle='rgba(0,0,0,0.5)',e.fillRect(...i),this._formatText(),e.fillStyle=this._color,e.fillText(this._text,this._layer.scaleValue(o),this._layer.scaleValue(s)),this._lastRect=i,this._lastRect[2]+=2,this._lastRect[3]+=2}resize(){this._fontSize=this._layer.scaleText(25,9),this._formatText(),this._dim=this._ctx.measureText(this._text)}destroy(){this._layer.destroy()}}},function(e,t,o){'use strict';o.d(t,'a',function(){return _});var a=o(0),s=o(1),r=o(34),n=o(6),i=o(2),l=o(35);class _{constructor(e,t,o,s,r,n){this._layer=e,this._config=n,this._layers={walls:e.newLayer('walls',null,null,this._config.zIndex),messages:e.newLayer('messages',null,null,this._config.zIndex)},this._restarts=o,this._player=s,n.walls=n.walls||[],n.drops=n.drops||[],n.messages=n.messages||[],n.maxX=n.maxX||1e3,this._config=n,this._onCompleteCallback=null,this._speed=r||1,this._timestamp=null,this._objects=new a.a;for(let a,i=0;i<n.walls.length;i++)a=new l.a(this._layers.walls,this._speed,n.walls[i]),this._objects.add(a,null,{collision:!0});for(let a,l=0;l<this._config.messages.length;l++)if(a=this._config.messages[l],a.y=0.95*this._layer.max.y,a.size=20,!a.restarts||this._restarts>=a.restarts){let e=new i.a(this._layers.messages,a);this._objects.add(e)}}onComplete(e){this._onCompleteCallback=e}freeze(){this._objects.each((e)=>{e.obj.hide&&e.obj.hide()})}update(e,t){this._timestamp||(this._timestamp=t);let o=this._player;if(!o.isDead&&o.pos.x>this._config.maxX)return void this._onCompleteCallback();for(var a=0;a<this._objects._objects.length;a++){if(!this._objects._objects[a].meta.collision)continue;let e=this._objects._objects[a].obj,t=[o.pos.x,o.pos.y,o.size.w,o.size.h],r=[e.pos.x,e.pos.y,e.size.w,e.size.h];Object(s.d)(t,r)&&o.die()}}render(){this._layers.walls.clear()}destroy(){for(let e in this._layers)this._layers[e].destroy();this._onCompleteCallback=null}}},function(e,t,o){'use strict';var a=Math.round,s=Math.max;o.d(t,'a',function(){return d});var r=o(0),n=o(1);const i=40,l=0.1,_=150;class d{constructor(e,t,o){this._layer=e.newLayer('player',null,null,o.zIndex),this._ctx=this._layer.ctx,this._config=o,this._objects=new r.a,this._speed=t||1,this._maxHoldSec=o.maxHoldSec||4,this._holdStartFactor=o.holdStartFactor||0.9,this._holdRampMs=o.holdRampMs||1e3,this._holdMinFactor=o.holdMinFactor||0.1,this._accelerateRampMs=o.accelerateRampMs||1e3,this._pushEnergy=o.pushEnergy||10,this._energyFactor=o.energyFactor||1.5,this._maxEnergy=o.maxEnergy||150,this._waveLength=o.waveLength||2,this.size={w:i,h:i},this.pos={x:i/-2,y:e.center.y-i/2},this._onDieCallback=null,this._health=1,this._isHolding=null,this._holdingTimestamp=null,this._holdFactor=null,this._acceleratingTimestamp=null,this._acceleratingFromFactor=null,this._energy=0,this._wave=0,this._wavePrevious=0,this._swingTimestamp=null,this._pressUp=!1,this._pushUp=!1,this._pushValid=null,this._pushTimestsamp=null,this._pressDown=!1,this._pushDown=!1,this._pushLock=!1,this.isDead=!1,this._deadTimestamp=null,this._isColliding=!1,this._isExploding=!1,this._isExpanding=!1,this._keydown=(e)=>{32===e.which&&this._hold()},this._keyup=(e)=>{32===e.which&&this._release()},this._bindKeys()}_unbindKeys(){document.removeEventListener('keydown',this._keydown),document.removeEventListener('keyup',this._keyup)}_bindKeys(){document.addEventListener('keydown',this._keydown),document.addEventListener('keyup',this._keyup)}_hold(){this._isHolding||this.isDead||(this._isHolding=!0,this._holdingTimestamp=null)}_release(){this._isHolding&&!this.isDead&&(this._isHolding=!1,this._isAccelerating=!0,this._acceleratingTimestamp=null,this._acceleratingFromFactor=this._holdFactor)}_up(){this._isColliding||this.isDead||(this._pushUp=!0,this._pushValid=!1,this._pushLock=!0)}_down(){this._isColliding||this.isDead||(this._pushDown=!0,this._pushValid=!1,this._pushLock=!0)}onDie(e){this._onDieCallback=e}die(){this.isDead||(this._unbindKeys(),this.isDead=!0,this._isColliding=!0,this._isHolding=!1,this._isAccelerating=!1)}explode(){this._isExploding||(this._unbindKeys(),this.isDead=!0,this._isExploding=!0,this._isHolding=!1,this._isAccelerating=!1)}expand(){this._isExpanding||(this._unbindKeys(),this.isDead=!0,this._isExpanding=!0,this._isHolding=!1,this._isAccelerating=!1)}update(e,t){if(this.isDead&&(this._deadTimestamp=this._deadTimestamp||t),this._isColliding&&!this._isExploding)t-this._deadTimestamp>500&&(this._isColliding=!1,this._onDieCallback());else if(this._isExploding)this.pos.x+=0.2*(l*this._speed*e);else{if(this._isHolding){this._holdingTimestamp=this._holdingTimestamp||t;let o=(t-this._holdingTimestamp)/this._holdRampMs;this._holdFactor=Object(n.f)(o,this._holdStartFactor,this._holdMinFactor),this._health-=1/(1e3*this._maxHoldSec)*e,this._energy=s(0,this._energy*(1e3-4*e)/1e3)}else if(this._isAccelerating){this._acceleratingTimestamp=this._acceleratingTimestamp||t;let e=(t-this._acceleratingTimestamp)/this._accelerateRampMs;this._holdFactor=Object(n.f)(e,this._acceleratingFromFactor,1)}else this._holdFactor=1;this.pos.x+=l*this._speed*e*this._holdFactor}0>=this._health&&this.die()}render(e,t){const o=this._ctx,r=[this.pos.x,this.pos.y,this.size.w,this.size.h];let i,l,d,c,p,m,y=30,f=Object(n.e)((t-this._deadTimestamp)/750),x=1-f;if(this._isExpanding)i=a(150*f+100),l=255,y=a(150*f+100),d=0.5+0.5*x,p=a(10+100*f),m='rgb('+i+','+l+','+y+')',o.shadowOffsetY=0,o.shadowOffsetX=0,r[0]-=a(f*r[0]),r[1]-=a(f*r[1]),r[2]+=a(25*(this.size.w*f)),r[3]+=a(25*(this.size.h*f)),m='hsl(40,50%,50%)';else if(this._isExploding)i=255,l=a(50*f+200),y=a(150*f+100),d=0.5+0.5*x,p=a(5+20*f),m='rgb('+i+','+l+','+y+')',o.shadowOffsetY=a(5+100*f),o.shadowOffsetX=0,r[0]+=a(40*f),r[1]-=a(f*r[1]),r[2]-=a(2+this.size.w*f/2),r[3]+=a(2+20*(this.size.h*f)),m='hsl(40,50%,50%)';else if(this._isColliding)i=a(50*f+200),l=a(150*x+50),y=a(100*f),d=0.5+0.5*x,p=a(5+10*x),m='rgb('+l+','+i+',100)',o.shadowOffsetX=a(5+100*f),r[0]-=a(f*r[0]),r[1]+=a(this.size.h/4+4*f),r[2]=a(this.size.w*(2+3*f)),r[3]=a(this.size.h*x/2),m='hsl(40,50%,50%)';else{const e=0.5+0.5*this._health,s=2-this._health,r=Object(n.g)(t*this._speed*(this._isHolding?s:e));i=a(255*(1-this._health)*(this._isHolding?0.7:1)),l=a(255*this._health*(this._isHolding?0.7:1)),d=0.75+0.25*this._health,p=a(5+40*r*e),m='rgb('+i+','+l+',10)',o.shadowOffsetX=a(2+3*r)}t-this._pushTimestsamp<_&&(this._pushValid?(i=s(255,2*i),l=s(255,2*l)):(i=100,l=100,d=0.5)),c='rgba('+i+','+l+','+y+','+d+')',o.clearRect(0,0,this._layer.size.w,this._layer.size.h),o.shadowBlur=p,o.shadowColor=m,o.fillStyle=c,o.fillRect(...this._layer.scaleArray(r));let g=this._energy&&Math.abs(this._wave)>0.3;if(g=g||t-this._pushTimestsamp<_,!this._isColliding&&g){const e={x:r[0]+r[2]/2,y:r[1]+r[3]/2},t=[],a=0<this._wavePrevious?-1:1;t.push({x:e.x-this.size.w/3,y:e.y+this.size.h/3*a}),t.push({x:e.x,y:e.y-this.size.h/3*a}),t.push({x:e.x+this.size.w/3,y:e.y+this.size.h/3*a});const s=this._layer.scalePath(t);o.fillStyle='rgba(0,0,0,0.5)',o.beginPath(),o.moveTo(s[0].x,s[0].y),o.lineTo(s[1].x,s[1].y),o.lineTo(s[2].x,s[2].y),o.fill()}}destroy(){this._layer.destroy(),this._onDieCallback=null,document.removeEventListener('keydown',this._keydown),document.removeEventListener('keyup',this._keyup)}}},function(e,t,o){'use strict';o.d(t,'a',function(){return i});var a=o(0),s=o(1);const r=40,n=4;class i{constructor(e,t,o){this._layer=e.newLayer('deaths',null,null,t.zIndex),this._ctx=this._layer.ctx,this._config=t,this._number=o,this._maxFontSize=null,this._fontSize=null,this._dim=null,this._timestamp=null,this._requireRender=!1,this.resize()}setNumber(e){this._number=e,this._timestamp=null,this._requireRender=!0,this.resize()}render(e,t){const o=this._ctx;if(this._requireRender){this._timestamp||(this._timestamp=t);const e=this._layer.scaleValue(0.02*this._layer.max.x),a=this._layer.scaleValue(0.02*this._layer.max.y),s=this._dim,i=r+s.width-2+4*n,l=this._fontSize+n,_=[e-n,a-n,i,l];o.clearRect(..._),o.fillStyle='rgba(10, 10, 10, 0.5)',o.fillRect(..._),o.fillStyle='rgb(230, 230, 230)',o.fillText(this._number,e+r+n,a),o.fillText('x',e,a)}}resize(){this._fontSize=this._layer.scaleText(40,20),this._maxFontSize=this._layer.scaleText(100);const e=this._ctx;e.font=this._fontSize+'px pixel',e.textAlign='left',e.textBaseline='top',this._dim=this._ctx.measureText(this._number)}destroy(){this._layer.destroy()}}},function(e,t,o){'use strict';o.d(t,'a',function(){return i});var a=o(0),s=o(38);const r=4,n=(e)=>{let t=''+e;return 2>t.length&&(t='0'+t),t};class i{constructor(e,t,o){this._layer=e.newLayer('time-left',null,null,o.zIndex),this._ctx=this._layer.ctx,this._config=o,this._time=t,this._objects=new a.a,this._timeBar=new s.a(this._layer,this._time,{zIndex:this._config.zIndex}),this._objects.add(this._timeBar),this._onTimeCallback=null,this._maxFontSize=null,this._fontSize=null,this._dim=null,this._stopped=!1,this._timestamp=null,this._requireRender=!0,this.resize()}addTime(e){this._time+=e,this._timestamp=null,this._timeBar.setMax(this._time),this.resize()}onTime(e){this._onTimeCallback=e}getTime(){return this._timeLeft}stop(){this._stopped=!0}update(e,t){if(this._timestamp||(this._timestamp=t),!this._stopped){const e=this._timeLeft;this._timeLeft=this._time-Math.round((t-this._timestamp)/1e3),this._requireRender=this._timeLeft!==e,this._requireRender&&this._timeBar.setValue(this._timeLeft),0>=this._timeLeft&&(this._stopped=!0,this._onTimeCallback())}}render(){const e=this._ctx;if(this._requireRender){const t=this._dim,o=this._layer.scaleValue(this._layer.center.x-t.width/2)-2*r,a=this._layer.scaleValue(45),s=t.width+3*r,i=this._fontSize+r,l=[o,a,s,i],_=this._timeLeft,d=n(_%60),c=n(Math.floor(_/60));e.clearRect(...l),e.fillStyle='rgba(10, 10, 10, 0.5)',e.fillRect(...l),e.fillStyle='rgb(230, 230, 230)',e.fillText(c+':'+d,o+r,a+r)}}resize(){this._fontSize=this._layer.scaleText(20,10),this._maxFontSize=this._layer.scaleText(100);const e=this._ctx;e.font=this._fontSize+'px pixel',e.textAlign='left',e.textBaseline='top',this._dim=this._ctx.measureText('00:00')}destroy(){this._layer.destroy(),this._onTimeCallback=null}}},function(e,t,o){'use strict';Object.defineProperty(t,'__esModule',{value:!0});var a=o(16),s=o(50);document.addEventListener('DOMContentLoaded',()=>{const e=document.getElementById('game-container'),t=new a.a(e,s.a);window.addEventListener('resize',()=>t.resize()),document.getElementById('btn-reset').addEventListener('click',()=>t.reset()),document.getElementById('btn-intro').addEventListener('click',()=>t.intro()),document.getElementById('btn-splash').addEventListener('click',()=>t.splash()),document.getElementById('btn-demo').addEventListener('click',()=>t.demo()),document.getElementById('btn-instructions').addEventListener('click',()=>t.instructions()),document.getElementById('btn-play').addEventListener('click',()=>t.play()),document.getElementById('btn-pause').addEventListener('click',()=>t.pause()),document.getElementById('btn-game-over').addEventListener('click',()=>t.gameOver()),document.getElementById('btn-scores').addEventListener('click',()=>t.scores()),document.getElementById('btn-about').addEventListener('click',()=>t.about()),document.getElementById('btn-credits').addEventListener('click',()=>t.credits())})},function(e,t,o){'use strict';o.d(t,'a',function(){return w});var a=o(17),s=o(3),r=o(0),n=o(27),i=o(8),l=o(30),_=o(9),d=o(31),c=o(32),p=o(33),m=o(36),y=o(37),f=o(39),x=o(40),g=o(41),u=o(44),h=o(45),b=o.n(h);class w{constructor(e,t){this._container=e,t=t||{},t.frame=t.frame||{},t.canvas=t.canvas||{},this._config=t,this._speed=this._config.speed;this._state=new s.a('App',{reset:null,intro:['reset'],splash:['intro','demo','instructions','scores','game-over','about','credits'],demo:['splash'],instructions:['splash','demo','play','pause','game-over'],play:['intro','splash','demo','instructions','pause','game-over','scores','about'],pause:['play'],"game-over":['play'],scores:['splash','demo','game-over'],about:['splash','demo','game-over'],credits:['splash','game-over']},!0),this._loader=new a.a,this._loaded=this._loader.load(t.assets),this._objects=new r.a,this._canvas=new i.a(this._container,this._config.canvas),this._frame=new n.a(this._objects,this._canvas,t.frame),this._frame.start(),this._fps=null,this._game=null,this._lastGame=null;document.addEventListener('keypress',(e)=>{if(e.ctrlKey)switch(e.code){case'KeyK':this.reset();break;case'KeyF':this.toggleFps();}}),this.reset()}showFps(){this._fps||(this._fps=new l.a(this._canvas),this._objects.add(this._fps))}hideFps(){this._fps&&(this._objects.destroyOne(this._fps),this._fps=null)}toggleFps(){this._fps?this.hideFps():this.showFps()}reset(){this._state.to('reset',null,()=>{this._objects.destroyAll(),this._debug&&this.showFps(),this._game=null,this._lastGame=null,window.setTimeout(()=>{this.intro()},1e3*0.1)})}resize(){this._canvas.resize(),this._objects.resize()}intro(){let e;this._state.to('intro',()=>!0,()=>{this._intro=new d.a(this._canvas,this._config.state.intro),this._objects.add(this._intro);const e=Object(_.a)(1e3*0.5);Promise.all([e,this._loaded]).then(()=>{this.splash()})},()=>{window.clearTimeout(e)})}splash(){let e,t,o;this._state.to('splash',()=>!0,()=>{this._intro||(this._intro=new d.a(this._canvas,this._config.state.intro),this._objects.add(this._intro)),e=new c.a(this._canvas,this._config.state.splash),this._objects.add(e),o=(e)=>{switch(e.which){case 32:this.play();break;case 65:this.about();break;case 72:this.scores();break;case 73:this.instructions();}},document.addEventListener('keyup',o),t=window.setTimeout(()=>{this.demo()},1e3*5)},()=>{this._intro&&(this._objects.destroyOne(this._intro),this._intro=null),this._objects.destroyOne(e),window.clearTimeout(t),document.removeEventListener('keyup',o)})}demo(){let e,t,o;this._state.to('demo',()=>!0,()=>{const a=this._speed*this._config.state.demo.speed;e=new p.a(this._canvas,a,this._config.state.play.levels,this._config.state.demo),this._objects.add(e),o=(e)=>{switch(e.which){case 27:this.splash();break;case 88:this.splash();break;case 32:this.play();}},document.addEventListener('keyup',o),t=window.setTimeout(()=>{this.splash()},1e3*5)},()=>{this._objects.destroyOne(e),window.clearTimeout(t),document.removeEventListener('keyup',o)})}instructions(){let e,t;this._state.to('instructions',()=>!0,()=>{e=new m.a(this._canvas,this._config.state.instructions),this._objects.add(e),t=(e)=>{switch(e.which){case 27:this.splash();break;case 88:this.splash();break;case 32:this.play();}},document.addEventListener('keyup',t)},()=>{this._objects.destroyOne(e),document.removeEventListener('keyup',t)})}play(){let e;const t=()=>{this.gameOver()};this._state.to('play',()=>!0,()=>{if(!this._game){const o=this._speed*this._config.state.play.speed;e=new y.a(this._canvas,o,this._config.state.play),e.onGameOver(t),e.onComplete(t),this._game=e,this._objects.add(e)}else this._game.resume()},(t)=>{'pause'===t||'instructions'===t?e.pause():this._lastGame=this._game})}pause(){this._state.to('pause',()=>!0,()=>{},()=>{})}gameOver(){let e,t,o;this._state.to('game-over',()=>!0,()=>{e=new f.a(this._canvas,this._game,this._config.state.gameOver),this._objects.add(e),o=(e)=>{switch(e.which){case 27:this.splash();break;case 88:this.splash();break;case 32:this.play();}},t=window.setTimeout(()=>{document.addEventListener('keyup',o)},1e3*1)},()=>{window.clearTimeout(t),document.removeEventListener('keyup',o),this._objects.destroyOne(e),this._objects.destroyOne(this._game),this._game=null})}scores(){let e,t;this._state.to('scores',()=>!0,()=>{e=new x.a(this._canvas,this._config.state.scores),this._objects.add(e),t=(e)=>{switch(e.which){case 27:this.splash();break;case 88:this.splash();break;case 32:this.play();}},document.addEventListener('keyup',t)},()=>{this._objects.destroyOne(e),document.removeEventListener('keyup',t)})}about(){let e,t;this._state.to('about',()=>!0,()=>{e=new g.a(this._canvas,this._config.state.about),this._objects.add(e),t=(e)=>{switch(e.which){case 27:this.splash();break;case 88:this.splash();break;case 32:this.play();}},document.addEventListener('keyup',t)},()=>{this._objects.destroyOne(e),document.removeEventListener('keyup',t)})}credits(){let e,t;this._state.to('credits',()=>this._lastGame.isCompleted(),()=>{e=new u.a(this._canvas,this._config.state.credits),this._objects.add(e),t=window.setTimeout(()=>{this.splash()},1e3*10)},()=>{this._objects.destroyOne(e),window.clearTimeout(t)})}}},function(e,t,o){'use strict';o.d(t,'a',function(){return r});o(18);const a=o(26),s=[{pattern:/\.woff$/,method:'_loadFont'}];class r{_loadFont(e){const t=e.match(/([a-z]+)\.woff$/i);if(!t)throw new Error('invalid font filename "'+e+'"');const o=t[1],s=document.querySelector('head'),r=document.createElement('style');r.innerText=`@font-face { font-family: '${o}'; src: url('${e}');}`,s.appendChild(r);const n=new a(o);return n.load()}_load(e){const t=s.find((t)=>t.pattern.test(e));if(!t)throw new Error('no loader for "'+e+'"');return this[t.method](e)}load(e){const t=e.map((e)=>this._load(e));return Promise.all(t)}}},function(e,t,o){'use strict';var a=o(19),s=o(25)},function(e,t,o){'use strict';var a=o(7),s=o(23),r=o(24),n=a.a?a.a.toStringTag:void 0;t.a=function(e){return null==e?void 0===e?'[object Undefined]':'[object Null]':n&&n in Object(e)?Object(s.a)(e):Object(r.a)(e)}},function(e,t,o){'use strict';var a=o(21),s='object'==typeof self&&self&&self.Object===Object&&self,r=a.a||s||Function('return this')();t.a=r},function(e,t,o){'use strict';(function(e){var o='object'==typeof e&&e&&e.Object===Object&&e;t.a=o}).call(t,o(22))},function(e){var t=function(){return this}();try{t=t||Function('return this')()||(1,eval)('this')}catch(o){'object'==typeof window&&(t=window)}e.exports=t},function(e,t,o){'use strict';var a=o(7),s=Object.prototype,r=s.hasOwnProperty,n=s.toString,i=a.a?a.a.toStringTag:void 0;t.a=function(e){var t=r.call(e,i),o=e[i];try{e[i]=void 0}catch(t){}var a=n.call(e);return t?e[i]=o:delete e[i],a}},function(e,t){'use strict';var o=Object.prototype,a=o.toString;t.a=function(e){return a.call(e)}},function(e,t){'use strict';t.a=function(e){var t=typeof e;return null!=e&&('object'==t||'function'==t)}},function(e){(function(){function o(e,t){document.addEventListener?e.addEventListener('scroll',t,!1):e.attachEvent('scroll',t)}function s(e){document.body?e():document.addEventListener?document.addEventListener('DOMContentLoaded',function t(){document.removeEventListener('DOMContentLoaded',t),e()}):document.attachEvent('onreadystatechange',function t(){('interactive'==document.readyState||'complete'==document.readyState)&&(document.detachEvent('onreadystatechange',t),e())})}function i(e){this.a=document.createElement('div'),this.a.setAttribute('aria-hidden','true'),this.a.appendChild(document.createTextNode(e)),this.b=document.createElement('span'),this.c=document.createElement('span'),this.h=document.createElement('span'),this.f=document.createElement('span'),this.g=-1,this.b.style.cssText='max-width:none;display:inline-block;position:absolute;height:100%;width:100%;overflow:scroll;font-size:16px;',this.c.style.cssText='max-width:none;display:inline-block;position:absolute;height:100%;width:100%;overflow:scroll;font-size:16px;',this.f.style.cssText='max-width:none;display:inline-block;position:absolute;height:100%;width:100%;overflow:scroll;font-size:16px;',this.h.style.cssText='display:inline-block;width:200%;height:200%;font-size:16px;max-width:none;',this.b.appendChild(this.h),this.c.appendChild(this.f),this.a.appendChild(this.b),this.a.appendChild(this.c)}function r(e,t){e.a.style.cssText='max-width:none;min-width:20px;min-height:20px;display:inline-block;overflow:hidden;position:absolute;width:auto;margin:0;padding:0;top:-999px;white-space:nowrap;font-synthesis:none;font:'+t+';'}function t(e){var t=e.a.offsetWidth,o=t+100;return e.f.style.width=o+'px',e.c.scrollLeft=o,e.b.scrollLeft=e.b.scrollWidth+100,e.g!==t&&(e.g=t,!0)}function l(e,s){function a(){var e=r;t(e)&&e.a.parentNode&&s(e.g)}var r=e;o(e.b,a),o(e.c,a),t(e)}function a(e,t){var o=t||{};this.family=e,this.style=o.style||'normal',this.weight=o.weight||'normal',this.stretch=o.stretch||'normal'}function n(){if(null==c)if(_()&&/Apple/.test(window.navigator.vendor)){var e=/AppleWebKit\/([0-9]+)(?:\.([0-9]+))(?:\.([0-9]+))/.exec(window.navigator.userAgent);c=!!e&&603>parseInt(e[1],10)}else c=!1;return c}function _(){return null==f&&(f=!!document.fonts),f}function d(){if(null==y){var e=document.createElement('div');try{e.style.font='condensed 100px sans-serif'}catch(e){}y=''!==e.style.font}return y}function m(e,t){return[e.style,e.weight,d()?e.stretch:'','100px',t].join(' ')}var p=null,c=null,y=null,f=null;a.prototype.load=function(e,t){var o=this,c=e||'BESbswy',y=0,x=t||3E3,w=new Date().getTime();return new Promise(function(e,t){if(_()&&!n()){var a=new Promise(function(t,a){function s(){new Date().getTime()-w>=x?a():document.fonts.load(m(o,'"'+o.family+'"'),c).then(function(e){1<=e.length?t():setTimeout(s,25)},function(){a()})}s()}),d=new Promise(function(e,t){y=setTimeout(t,x)});Promise.race([d,a]).then(function(){clearTimeout(y),e(o)},function(){t(o)})}else s(function(){function s(){var t;(t=-1!=j&&-1!=f||-1!=j&&-1!=g||-1!=f&&-1!=g)&&((t=j!=f&&j!=g&&f!=g)||(null===p&&(t=/AppleWebKit\/([0-9]+)(?:\.([0-9]+))/.exec(window.navigator.userAgent),p=!!t&&(536>parseInt(t[1],10)||536===parseInt(t[1],10)&&11>=parseInt(t[2],10))),t=p&&(j==a&&f==a&&g==a||j==h&&f==h&&g==h||j==v&&f==v&&g==v)),t=!t),t&&(L.parentNode&&L.parentNode.removeChild(L),clearTimeout(y),e(o))}function _(){if(new Date().getTime()-w>=x)L.parentNode&&L.parentNode.removeChild(L),t(o);else{var e=document.hidden;(!0===e||void 0===e)&&(j=u.a.offsetWidth,f=b.a.offsetWidth,g=n.a.offsetWidth,s()),y=setTimeout(_,50)}}var u=new i(c),b=new i(c),n=new i(c),j=-1,f=-1,g=-1,a=-1,h=-1,v=-1,L=document.createElement('div');L.dir='ltr',r(u,m(o,'sans-serif')),r(b,m(o,'serif')),r(n,m(o,'monospace')),L.appendChild(u.a),L.appendChild(b.a),L.appendChild(n.a),document.body.appendChild(L),a=u.a.offsetWidth,h=b.a.offsetWidth,v=n.a.offsetWidth,_(),l(u,function(e){j=e,s()}),r(u,m(o,'"'+o.family+'",sans-serif')),l(b,function(e){f=e,s()}),r(b,m(o,'"'+o.family+'",serif')),l(n,function(e){g=e,s()}),r(n,m(o,'"'+o.family+'",monospace'))})})},e.exports=a})()},function(e,t,o){'use strict';o.d(t,'a',function(){return a});o(8);class a{constructor(e,t,o){o=o||{},this._objects=e,this._canvas=t,this._config=o,this._intervalId=null,this._frameId=null,this._lastTs=null}_clearCallbacks(){this._config.interval?window.clearInterval(this._intervalId):window.cancelAnimationFrame(this._frameId)}_frame(e){const t=this._lastTs?e-this._lastTs:0;this._lastTs=e,this._objects.update(t,e),this._objects.render(t,e)}_animationFrame(){this._frameId=window.requestAnimationFrame((e)=>{this._frame(e),this._animationFrame()})}_setInterval(){this._intervalId=window.setInterval(()=>{const e=new Date;this._frame(e)},this._config.intervalMs)}_setCallbacks(){this._config.interval?this._setInterval():this._animationFrame()}start(){this._setCallbacks()}pause(){this._clearCallbacks()}resume(){this._setCallbacks()}}},function(e,t,o){'use strict';o.d(t,'a',function(){return s});const a='100%';class s{constructor(e){this._canvas=e,this._bindings={down:[],up:[],tap:[],over:[],out:[],move:[],_cursor:[]};const t=document.createElement('div');t.classList.add('x-canvas-surface'),t.style.position='absolute',t.style.top=0,t.style.left=0,t.style.zIndex=1e3,t.style.width=a,t.style.height=a,this._element=t,this._isDown=!1,this._downOnTaps=[],this._activeOverBindings=[],this._activeOutBindings=[],this._filter=(e,t)=>e.filter((e)=>!e.filterFn||e.filterFn(t)),this._trigger=(e,t,o)=>{(o?e:this._filter(e,t)).forEach((e)=>e.callback(t))},this._down=(e,t,o)=>{this._isDown=!0;const a={event:e,x:t,y:o};this._trigger(this._bindings.down,a),this._downOnTaps=this._filter(this._bindings.tap,a)},this._up=(e,t,o)=>{this._isDown=!1;const a={event:e,x:t,y:o};this._trigger(this._downOnTaps,a),this._trigger(this._bindings.up,a),this._downOnTaps.length=0},this._move=(e,t,o)=>{const a={event:e,x:t,y:o};this._trigger(this._bindings.move,a);const s=this._activeOverBindings;this._activeOverBindings=this._filter(this._bindings.over,a);const r=this._activeOverBindings.filter((e)=>!s.find((t)=>t===e));this._trigger(r,a);const n=this._activeOutBindings;this._activeOutBindings=this._filter(this._bindings.out,a);const i=n.filter((e)=>!this._activeOutBindings.find((t)=>t===e));this._trigger(i,a,!0);const l=this._filter(this._bindings._cursor,a);document.body.style.cursor=l.length?l[0].value:'default'},this._touchstart=(e)=>{e.preventDefault();const t=e.changedTouches[0];this._down(e,(t.pageX-this._canvas.offset.x)/this._scale.x,(t.pageY-this._canvas.offset.y)/this._scale.y)},this._touchend=(e)=>{e.preventDefault();const t=e.changedTouches[0];this._up(e,(t.pageX-this._canvas.offset.x)/this._scale.x,(t.pageY-this._canvas.offset.y)/this._scale.y)},this._touchmove=(e)=>{e.preventDefault();e.changedTouches[0]},this._mousedown=(e)=>{e.preventDefault(),this._down(e,e.offsetX,e.offsetY)},this._mouseup=(e)=>{e.preventDefault(),this._up(e,e.offsetX,e.offsetY)},this._mousemove=(e)=>{e.preventDefault(),this._move(e,e.offsetX,e.offsetY)},this.resize(),this._element.addEventListener('touchstart',this._touchstart),this._element.addEventListener('touchmove',this._touchmove),this._element.addEventListener('touchend',this._touchend),this._element.addEventListener('mousedown',this._mousedown),this._element.addEventListener('mouseup',this._mouseup),this._element.addEventListener('mousemove',this._mousemove)}resize(){this._scale={x:this._canvas.transform,y:this._canvas.transform}}on(e,t,o){const a={eventName:e,callback:t,filterFn:o};return a.unbind=()=>{const t=this._bindings[e].indexOf(a);-1!==t&&this._bindings[e].splice(t,1)},this._bindings[e].push(a),a}cursor(e,t){const o={value:e,filterFn:t};return o.unbind=()=>{const e=this._bindings._cursor.indexOf(o);-1!==e&&this._bindings._cursor.splice(e,1)},this._bindings._cursor.push(o),o}destroy(){for(let e in this._bindings)this._bindings[e]=[];this._element.removeEventListener('touchstart',this._touchstart),this._element.removeEventListener('touchmove',this._touchmove),this._element.removeEventListener('touchend',this._touchend),this._element.removeEventListener('mousedown',this._mousedown),this._element.removeEventListener('mousemove',this._mousemove),this._element.removeEventListener('mouseup',this._mouseup),this._element.removeEventListener('mouseover',this._mouseover),this._element.removeEventListener('mouseout',this._mouseout)}}},function(e,t,o){'use strict';o.d(t,'a',function(){return r});o(5);const a=['newLayer','newVirtualLayer','purgeLayer','scaleValue','normalValue','scaleText','scalePoint','scalePath','scaleSize','scaleArray'],s=['surface','pixelRatio','scale','transform','center','offset','min','max'];class r{constructor(e,t,o,r,n){this._canvas=e,this.name=t,this.size=o=o||{},this.position=r,this.zIndex=n,this.size.w=o.w?e.scaleValue(o.w):e.width,this.size.h=o.h?e.scaleValue(o.h):e.height,this._element=document.createElement('canvas'),this._element.classList.add('x-canvas-layer'),this._element.setAttribute('data-x-layer',t),this.ctx=this._element.getContext('2d'),a.forEach((t)=>{this[t]=e[t].bind(e)}),s.forEach((t)=>{Object.defineProperty(this,t,{get:()=>e[t]})}),this.resize()}getDrawingRect(){return{data:this._element.toDataURL()}}clear(){this.ctx.clearRect(0,0,this._canvas.width,this._canvas.height)}resize(){let e=this._canvas,t=this.size,o=this.position||{x:0,y:0},a=this.zIndex;this._element.width=t.w,this._element.height=t.h,this._element.style.position='absolute',this._element.style.left=e.scaleValue(o.x)+'px',this._element.style.top=e.scaleValue(o.y)+'px',a&&(this._element.style.zIndex=a)}destroy(){this._canvas.purgeLayer(this),this._element.remove()}}},function(e,t,o){'use strict';o.d(t,'a',function(){return s});o(0);const a=3;class s{constructor(e,t){this._layer=e.newLayer('fps',{w:90,h:35},{x:10,y:e.max.y-35},9e3),this._ctx=this._layer.ctx,this._config=t,this._rect=null,this._fontSize=null,this._fps=0,this._frameTs=null,this._frameCount=0,this.resize()}render(e,t){const o=this._ctx;this._frameCount++,this._frameTs=this._frameTs||t;const s=Math.floor((t-this._frameTs)/1e3);0<s&&(this._frameTs=t,this._fps=this._frameCount/s,this._frameCount=0);const r=''+this._fps.toFixed(1),n=this._ctx.measureText(r),i=[0,0,2*a+n.width,this._fontSize+2*a];o.clearRect(...(this._lastRect||i)),o.fillStyle='rgba(0,0,0,0.3)',o.fillRect(...i),o.fillStyle='white',o.fillText(r,a-2,a+2),this._lastRect=i,this._lastRect[2]+=2,this._lastRect[3]+=2}resize(){this._fontSize=this._layer.scaleText(15,10);const e=this._ctx;e.font=this._fontSize+'px pixel',e.textAlign='left',e.textBaseline='top'}destroy(){this._layer.destroy()}}},function(e,t,o){'use strict';var a=Math.round;o.d(t,'a',function(){return l});var s=o(0),r=o(2);const n=20,i=15;class l{constructor(e,t){this._layer=e.newLayer('intro'),this._ctx=this._layer.ctx,this._config=t,this._auxLayer=e.newVirtualLayer('intro-aux'),this._auxCtx=this._auxLayer.ctx,this._columns=40,this._size=a(1e3/this._columns),this._slowDown=!1,this._objects=new s.a,this.resize()}_delay(){this._slowDown=!1,window.clearTimeout(this._timeoutId),this._timeoutId=window.setTimeout(()=>{this._slowDown=!0},500)}update(){for(let e=0;e<this._drops.length;e++)this._drops[e].y>=this._layer.max.y&&(this._drops[e].y=-1*n*Math.random()),(!this._slowDown||0.3>Math.random())&&(this._drops[e].y+=this._size*3,this._drops[e].update=!0)}render(){const e=this._ctx,t=this._layer.size;this._ctx.clearRect(0,0,t.w,t.h),e.globalCompositeOperation='copy',e.globalCompositeOperation='source-over',e.fillStyle='rgba(80, 200, 80, '+(this._slowDown?'0.3':'1')+')',e.strokeStyle='rgba(20, 100, 20, '+(this._slowDown?'0.3':'1')+')';for(let t=0;t<this._drops.length;t++){if(!this._drops[t].update)continue;const o=a(t*this._size),s=a(this._drops[t].y),r=[o-i,s-i,this._size+i,this._size+i];e.fillRect(...this._layer.scaleArray(r))}}resize(){this._drops=[];for(let e=0;e<this._columns;e++){const e=-this._size+n*Math.random();this._drops.push({update:!0,y:e}),this._slowDown=!1}this._delay()}destroy(){this._layer.destroy(),this._auxLayer.destroy(),window.clearTimeout(this._timeoutId)}}},function(e,t,o){'use strict';o.d(t,'a',function(){return i});var a=o(0),s=o(4),r=o(2),n=o(10);class i{constructor(e,t){this._layer=e.newLayer('splash'),this._ctx=this._layer.ctx,this._config=t,this._textLayer=e.newLayer('splash-text',null,null,this._config.zIndex),this._fontSize=null,this._center=null,this._objects=new a.a,this._delay()}_delay(){this._timeoutId=window.setTimeout(()=>{this._objects.add(new s.a(this._layer,{y:this._layer.center.y,size:150,text:'pixel-run'})),this._objects.add(new r.a(this._textLayer,{y:0.9*this._layer.max.y,size:30,text:'press <SPACE> to start'})),this._objects.add(new r.a(this._textLayer,{y:0.6*this._layer.max.y,size:15,text:'(c) 2017 andrezero'})),this._objects.add(new n.a(this._textLayer,['<I> instructions','<A> about']))},500)}render(){this._ctx}destroy(){this._layer.destroy(),this._textLayer.destroy(),window.clearTimeout(this._timeoutId)}}},function(e,t,o){'use strict';o.d(t,'a',function(){return l});var a=o(3),s=o(0),r=o(2),n=o(11),i=o(12);class l{constructor(e,t,o,a){this._layer=e,this._levels=o,this._config=a,this._textLayer=e.newLayer('demo-text',null,null,this._config.zIndex),this._objects=new s.a,this._initialSpeed=(t||1)*(Math.random(0.5)+0.5),this._speed=this._initialSpeed,this._state=null,this._restarts=0,this._levelNum=a.startLevel||0,this._startLevel(),this._delay()}_delay(){window.clearTimeout(this._timeoutId),this._timeoutId=window.setTimeout(()=>{this._objects.add(new r.a(this._textLayer,{y:0.05*this._layer.max.y,text:'<X> exit'})),this._timeoutId=window.setTimeout(()=>{this._objects.add(new r.a(this._textLayer,{y:0.92*this._layer.max.y,text:'press <SPACE> to start'}))},2500)},500)}_destroyLevel(){this._objects.destroyOne(this._level),this._objects.destroyOne(this._player),this._level=null,this._player=null}_restartLevel(){this._speed*=1.5,this._objects.destroyOne(this._player),this._objects.destroyOne(this._level),this._startLevel()}_startLevel(){const e=Object.assign({},this._levels[this._levelNum]),t=e.speed*this._speed;const o=Object.assign({},e.player);delete e.Texts,this._player=new i.a(this._layer,4*t,o),this._objects.add(this._player,1),this._level=new n.a(this._layer,-1,null,this._player,t,e),this._objects.add(this._level,0),this._player.onDie(()=>{this.deaths++,this._restarts++,this._restartLevel()}),this._level.onComplete(()=>{this._speed=this._initialSpeed,this._destroyLevel(),this._restarts=0,this._levelNum++,this._levelNum===this._levels.length&&(this._levelNum=0),this._startLevel()})}destroy(){this._textLayer.destroy()}}},function(e,t,o){'use strict';var a=o(0),s=50},function(e,t,o){'use strict';o.d(t,'a',function(){return r});var a=o(0),s=o(1);class r{constructor(e,t,o){this._layer=e,this._ctx=e.ctx,this._config=o,this._objects=new a.a,this._speed=t||1,this._color=o.color||'red',this._grow=o.grow,this._freq=o.freq,this._phase=o.phase||0,this.size={w:o.w||10,h:o.h},this.pos={x:o.x},this._minSize=this.size.h,this._maxSize=this._minSize+o.grow,this._timestamp=null,this.pos.y='top'===this._config.pos?0:this._layer.max.y-this.size.h}update(e,t){if(this._timestamp||(this._timestamp=t),this._grow){const e=this._timestamp-t;this.size.h=Math.round(Object(s.g)(e*this._freq*this._speed,this._minSize,this._maxSize,this._phase)),'bottom'===this._config.pos&&(this.pos.y=this._layer.max.y-this.size.h)}}render(){const e=this._layer.scaleArray([this.pos.x,this.pos.y,this.size.w,this.size.h]);this._ctx.fillStyle=this._color,this._ctx.fillRect(...e)}}},function(e,t,o){'use strict';o.d(t,'a',function(){return i});var a=o(3),s=o(0),r=o(4),n=o(2);class i{constructor(e,t){this._layer=e.newLayer('instructions'),this._ctx=this._layer.ctx,this._config=t,this._textLayer=e.newLayer('instructions-text',null,null,this._config.zIndex);this._state=new a.a('Instructions',{intro:null,space:null,early:null,long:null},!0),this._objects=new s.a,this._delay()}_delay(){this._slowDown=!1,window.clearTimeout(this._timeoutId),this._timeoutId=window.setTimeout(()=>{this._objects.add(new r.a(this._layer,{y:0.15*this._layer.max.y,size:90,text:'instructions'})),this._objects.add(new n.a(this._textLayer,{y:0.05*this._layer.max.y,text:'<X> exit'})),this._objects.add(new n.a(this._textLayer,{y:0.4*this._layer.max.y,text:'complete all levels before time runs out'})),this._objects.add(new n.a(this._textLayer,{y:0.45*this._layer.max.y,text:'try not to collide with walls and obstacles'})),this._objects.add(new n.a(this._textLayer,{y:0.5*this._layer.max.y,text:'press <SPACE> to slow down'})),this._objects.add(new n.a(this._textLayer,{y:0.55*this._layer.max.y,text:'slowing down for too long will kill you'})),this._objects.add(new n.a(this._textLayer,{y:0.6*this._layer.max.y,text:'slow down early to recover speed sooner'})),this._objects.add(new n.a(this._textLayer,{y:0.92*this._layer.max.y,size:20,text:'press <SPACE> to start'})),this._slowDown=!0},500)}render(){}resize(){}destroy(){this._layer.destroy(),this._textLayer.destroy(),window.clearTimeout(this._timeoutId)}}},function(e,t,o){'use strict';o.d(t,'a',function(){return _});var a=o(0),s=o(11),r=o(6),n=o(12),i=o(13),l=o(14);class _{constructor(e,t,o){this._layer=e,this._config=o,this._speed=t||1,this._objects=new a.a,this._timeLeft=new l.a(this._layer,o.time,{zIndex:this._config.zIndex.hud}),this._objects.add(this._timeLeft),this._timeLeft.onTime(()=>{this._objects.destroyOne(this._timeLeft),this._gameOver()}),this._onGameOverCallback=null,this._onCompleteCallback=null,this._levels=o.levels,this._state=null,this._deaths=0,this._restarts=0,this._levelIx=o.startLevel||0,this._isComplete=!1,this._startLevel()}_gameOver(){this._level&&this._level.freeze(),this._deathsDisplay&&this._objects.destroyOne(this._deathsDisplay),this._state='game-over',this._onGameOverCallback(),this._player.explode()}_complete(){this._level&&this._level.freeze(),this._deathsDisplay&&this._objects.destroyOne(this._deathsDisplay),this._state='game-over',this._onCompleteCallback(),this._player.expand()}_destroyLevel(){this._objects.destroyOne(this._level),this._objects.destroyOne(this._levelNumber),this._objects.destroyOne(this._player)}_restartLevel(){this._destroyLevel(),this._startLevel()}_startLevel(){this._levelNumber=new r.a(this._layer,this._levelIx+1,{zIndex:this._config.zIndex.hud}),this._objects.add(this._levelNumber);const e=Object.assign({},this._levels[this._levelIx],{zIndex:this._config.zIndex.level}),t=e.speed*this._speed;const o=Object.assign({},e.player,{zIndex:this._config.zIndex.player});this._player=new n.a(this._layer,t,o),this._objects.add(this._player,1),this._level=new s.a(this._layer,this._levelIx,this._restarts,this._player,t,e),this._objects.add(this._level,0),this._player.onDie(()=>{this._deaths||(this._deathsDisplay=new i.a(this._layer,{zIndex:this._config.zIndex.hud}),this._objects.add(this._deathsDisplay,0)),this._deaths++,this._deathsDisplay.setNumber(this._deaths),this._restarts++,this._restartLevel()}),this._level.onComplete(()=>{this._restarts=0,this._levelIx+1<this._levels.length?(this._destroyLevel(),this._levelIx++,this._startLevel()):(this._timeLeft.stop(),this._objects.destroyOne(this._timeLeft),this._isComplete=!0,this._complete())})}onGameOver(e){this._onGameOverCallback=e}onComplete(e){this._onCompleteCallback=e}getScore(){return{complete:this._isComplete,time:this._timeLeft.getTime(),level:this._levelIx,deaths:this._deaths}}destroy(){this._onGameOverCallback=null,this._onCompleteCallback=null}}},function(e,t,o){'use strict';var a=Math.round;o.d(t,'a',function(){return i});var s=o(0),r=o(1);const n=200;class i{constructor(e,t,o){this._layer=e.newLayer('time-bar',null,null,o.zIndex),this._ctx=this._layer.ctx,this._config=o,this._max=t,this._value=t,this._requireRender=!0}setMax(e){this._max=e}setValue(e){this._value=e}render(e,t){const o=this._ctx;if(this._requireRender){const e=1-(this._max-this._value)/this._max,s=this._layer.scaleValue(this._layer.center.x-n/2),i=this._layer.scaleValue(20),l=this._layer.scaleValue(n),_=this._layer.scaleValue(20),d=a(l*e),c=a(100*e+30*Object(r.g)(t*(1-e))),p=[s,i,l,_];o.clearRect(...p),o.fillStyle='rgba(10, 10, 10, 0.5)',o.fillRect(...p),o.strokeStyle='rgb(200, 200, 200)',o.strokeRect(...p),o.fillStyle='hsl('+c+',95%,60%)',o.fillRect(...p)}}destroy(){this._layer.destroy()}}},function(e,t,o){'use strict';var a=Math.ceil,s=Math.min;o.d(t,'a',function(){return x});var r=o(3),n=o(0),i=o(1),l=o(4),_=o(2),d=o(6),c=o(13),p=o(14);const m=2e3,y=1294,f=1250,g=123,u=(e,t,o,a)=>{let s='',r='.';do s=e+' '+r+' '+a+t,r+='.';while(s.length<o);return s};class x{constructor(e,t,o){this._layer=e.newLayer('game-over',null,null,o.zIndex),this._ctx=this._layer.ctx,this._config=o,this._game=t,this._textLayer=e.newLayer('game-over-text',null,null,this._config.zIndex);this._state=new r.a('game-over',{intro:null,space:null,early:null,long:null},!0),this._objects=new n.a,this._render=0,this._fadeTimestamp=0,this._stepTimestamp=0,this._time=null,this._level=null,this._deaths=null,this._total=null,this._delay()}_delay(){window.clearTimeout(this._timeoutId),this._timeoutId=window.setTimeout(()=>{const e=this._game.getScore(),t=e.complete?'congratulations':'game over';this._objects.add(new l.a(this._layer,{y:0.15*this._layer.max.y,size:90,text:t})),this._render=1,this._timeoutId=window.setTimeout(()=>{this._objects.add(new _.a(this._textLayer,{y:0.05*this._layer.max.y,text:'<X> exit'})),this._objects.add(new _.a(this._textLayer,{y:0.92*this._layer.max.y,size:20,text:'press <SPACE> to restart'}))},250)},750)}render(e,t){const o=this._ctx,r=this._game.getScore();if(this._fadeTimestamp=this._fadeTimestamp||t,t-this._fadeTimestamp<m){const e=Object(i.f)((t-this._fadeTimestamp)/m,0,0.8,i.e);this._layer.clear(),o.fillStyle=r.complete?'rgba(50,120,20,'+e+')':'rgba(120,50,20,'+e+')',o.fillRect(0,0,this._layer.size.w,this._layer.size.h)}if(this._render){this._stepTimestamp=this._stepTimestamp||t;const e=Object(i.f)((t-this._stepTimestamp)/1250,0,1,i.e),o=this._layer.center.x,n=50,l='center',d='top';let c=r.time,p=r.level,m=r.deaths,h=c*y+p*f-m*g;1===this._render&&(c=s(r.time,c*e),!this._time&&(this._time=new _.a(this._textLayer,{x:o,size:n,align:l,baseline:d,color:'green',y:0.3*this._layer.max.y}),this._objects.add(this._time)),this._time.setText('T'+u(a(c),a(c*y),13,'+'))),2===this._render&&(p=s(r.level,p*e),!this._level&&(this._level=new _.a(this._textLayer,{x:o,size:n,align:l,baseline:d,color:'orange',y:0.4*this._layer.max.y}),this._objects.add(this._level)),this._level.setText('L'+u(a(p),a(p*f),13,'+'))),3===this._render&&(m=s(r.deaths,m*e),!this._deaths&&(this._deaths=new _.a(this._textLayer,{x:o,size:n,align:l,baseline:d,color:'red',y:0.5*this._layer.max.y}),this._objects.add(this._deaths)),this._deaths.setText('x'+u(a(m),a(m*g),13,'-'))),4===this._render&&(h=s(h,a(h*e)),!this._total&&(this._total=new _.a(this._textLayer,{x:o,size:1.5*n,baseline:d,color:'white',y:0.65*this._layer.max.y}),this._objects.add(this._total)),this._total.setText(' > '+h+' < ')),1<=e&&(this._stepTimestamp=t,this._render++,4<this._render&&(this._render=!1))}}resize(){}destroy(){this._layer.destroy(),this._textLayer.destroy(),window.clearTimeout(this._timeoutId)}}},function(e,t,o){'use strict';o.d(t,'a',function(){return l});var a=o(3),s=o(0),r=o(4),n=o(2),i=o(10);class l{constructor(e,t){this._layer=e.newLayer('scores'),this._ctx=this._layer.ctx,this._config=t;this._state=new a.a('Scores',{intro:null,space:null,early:null,long:null},!0),this._objects=new s.a,this._delay()}_delay(){this._slowDown=!1,window.clearTimeout(this._timeoutId),this._timeoutId=window.setTimeout(()=>{this._objects.add(new r.a(this._layer,{y:0.15*this._layer.max.y,size:90,text:'high scores'})),this._objects.add(new n.a(this._layer,{y:0.05*this._layer.max.y,text:'<X> exit'})),this._objects.add(new n.a(this._layer,{y:0.92*this._layer.max.y,size:20,text:'press <SPACE> to start'})),this._slowDown=!0},500)}render(){}resize(){}destroy(){this._layer.destroy(),window.clearTimeout(this._timeoutId)}}},function(e,t,o){'use strict';o.d(t,'a',function(){return l});var a=o(3),s=o(0),r=o(4),n=o(2),i=o(42);class l{constructor(e,t){this._layer=e.newLayer('about'),this._ctx=this._layer.ctx,this._config=t,this._textLayer=e.newLayer('about-text',null,null,t.zIndex),this._objects=new s.a,this._linkConfig={bgColor:'orange',color:'black',over:{bgColor:'white',color:'black'},on:{bgColor:'yellow',color:'black'}},this._delay()}_delay(){this._slowDown=!1,window.clearTimeout(this._timeoutId),this._timeoutId=window.setTimeout(()=>{this._objects.add(new r.a(this._layer,{y:0.15*this._layer.max.y,size:90,text:'about'})),this._objects.add(new n.a(this._textLayer,{y:0.4*this._layer.max.y,text:'pixel-run is a javascript / canvas mini game'})),this._objects.add(new n.a(this._textLayer,{y:0.45*this._layer.max.y,text:'developed by'}));let e=new i.a(this._textLayer,Object.assign({},{y:0.5*this._layer.max.y,text:'andrezero'},this._linkConfig));e.on('tap',()=>{window.location.href=this._config.url.author}),this._objects.add(e),this._objects.add(new n.a(this._textLayer,{y:0.65*this._layer.max.y,text:'did you like this game?'}));let t=new i.a(this._textLayer,Object.assign({},{y:0.7*this._layer.max.y,text:'send your feedback'},this._linkConfig));this._objects.add(t),t.on('tap',()=>{window.location.href=this._config.url.feedback}),this._objects.add(new n.a(this._textLayer,{y:0.05*this._layer.max.y,text:'<X> exit'})),this._objects.add(new n.a(this._textLayer,{y:0.92*this._layer.max.y,size:20,text:'press <SPACE> to start'})),this._slowDown=!0},500)}render(){}resize(){}destroy(){this._layer.destroy(),this._textLayer.destroy(),window.clearTimeout(this._timeoutId)}}},function(e,t,o){'use strict';o.d(t,'a',function(){return l});var a=o(1),s=o(0),r=o(5),n=o(43),i=o(2);class l{constructor(e,t,o){this._layer=e,this._ctx=e.ctx,this._config=t,this._configOn=Object.assign({},this._config,this._config.on),this._configOff=Object.assign({},this._config,this._config.off),this._configOver=Object.assign({},this._config,this._config.over),this._configOut=Object.assign({},this._config,this._config.out),this._currentConfig=this._config,this._text=o,this._objects=new s.a,this._label=new i.a(this._layer,this._configOff,o),this._objects.add(this._label);this._interactive=new n.a(this._layer,(e)=>Object(a.d)([e.x,e.y,0,0],this._label._rect),'pointer'),this._interactive.on('down',()=>{this._configure(this._configOn)}),this._interactive.on('tap',(e)=>{this._emitter.emit('tap',e)}),this._interactive.on('up',()=>{this._configure(this._configOff)}),this._interactive.on('over',()=>{this._configure(this._configOver)}),this._interactive.on('out',()=>{this._configure(this._configOut)}),this._objects.add(this._interactive),this._emitter=Object(r.b)(),Object(r.a)(this,this._emitter),this._on=(e)=>{this._emitter.emit('on',e)},this._tap=(e)=>{this._emitter.emit('tap',e)},this._off=(e)=>{this._emitter.emit('off',e)},this._requireRender=!1}_configure(e){this._currentConfig=e,this._objects.destroyOne(this._label),this._label=new i.a(this._layer,e,this._text),this._objects.add(this._label),this._requireRender=!0}hide(){this._hidden=!0,this._requireRender=!0}render(){if(this._requireRender&&!this._hidden){this._requireRender=!1;const e=this._ctx;e.clearRect(...this._label._rect),e.fillStyle=this._currentConfig.fillStyle,e.fillRect(...this._label._rect)}}destroy(){this._emitter.destroy()}}},function(e,t,o){'use strict';o.d(t,'a',function(){return r});var a=o(0),s=o(5);class r{constructor(e,t,o,a){this._layer=e,this._emitter=Object(s.b)(),Object(s.a)(this,this._emitter),this._down=(e)=>{this._emitter.emit('down',e)},this._up=(e)=>{this._emitter.emit('up',e)},this._tap=(e)=>{this._emitter.emit('tap',e)},this._over=(e)=>{this._emitter.emit('over',e)},this._out=(e)=>{this._emitter.emit('out',e)},this._layer.surface.on('down',this._down,t),this._layer.surface.on('up',this._up,t),this._layer.surface.on('tap',this._tap,t),this._layer.surface.on('over',this._over,t),this._layer.surface.on('out',this._out,t),(o||a)&&(a=a||t,this._layer.surface.cursor('pointer',a))}destroy(){this._emitter.destroy()}}},function(e,t,o){'use strict';o.d(t,'a',function(){return a});o(0);class a{constructor(e,t){this._layer=e.newLayer('credits'),this._ctx=this._layer.ctx,this._config=t;this._on=!1,this._color={r:0,g:0,b:0}}update(){}render(){}destroy(){this._layer.destroy()}}},function(e,t,o){var a=o(46);'string'==typeof a&&(a=[[e.i,a,'']]);var s,r={hmr:!0};r.transform=s,r.insertInto=void 0;o(48)(a,r);a.locals&&(e.exports=a.locals),!1},function(e,t,o){t=e.exports=o(47)(!1),t.push([e.i,'html, body {\n  width:  100%;\n  height: 100%;\n  margin: 0px;\n  overflow: hidden;\n}\n\n.app {\n  display: flex;\n  flex-direction: column;\n  align-items: stretch;\n  height: 100%;\n}\n\n.site-header {\n  flex: 0 1 50px;\n  padding: 20px 0;\n  background-color: black;\n  color: white;\n  display: none;\n}\n\n#game-container {\n  flex: 1 1 auto;\n  background-color: black;\n}\n\n#stage {\n  position: absolute;\n}\n\n.site-footer {\n  flex: 0 1 60px;\n  background-color: black;\n  color: white;\n  display: none;\n}\n\n@media (min-width: 576px) {\n  .container {\n    max-width: 600px;\n  }\n}\n\n@media (min-width: 768px) and (min-height: 768px) {\n  .container {\n    width: 600px;\n  }\n}\n',''])},function(e){function t(e,t){var a=e[1]||'',s=e[3];if(!s)return a;if(t&&'function'==typeof btoa){var r=o(s),n=s.sources.map(function(e){return'/*# sourceURL='+s.sourceRoot+e+' */'});return[a].concat(n).concat([r]).join('\n')}return[a].join('\n')}function o(e){var t=btoa(unescape(encodeURIComponent(JSON.stringify(e))));return'/*# '+('sourceMappingURL=data:application/json;charset=utf-8;base64,'+t)+' */'}e.exports=function(e){var o=[];return o.toString=function(){return this.map(function(o){var a=t(o,e);return o[2]?'@media '+o[2]+'{'+a+'}':a}).join('')},o.i=function(e,t){'string'==typeof e&&(e=[[null,e,'']]);for(var a,s={},r=0;r<this.length;r++)a=this[r][0],'number'==typeof a&&(s[a]=!0);for(r=0;r<e.length;r++){var n=e[r];'number'==typeof n[0]&&s[n[0]]||(t&&!n[2]?n[2]=t:t&&(n[2]='('+n[2]+') and ('+t+')'),o.push(n))}},o}},function(e,t,o){function a(e,t){for(var o=0;o<e.length;o++){var a=e[o],s=y[a.id];if(s){s.refs++;for(var r=0;r<s.parts.length;r++)s.parts[r](a.parts[r]);for(;r<a.parts.length;r++)s.parts.push(d(a.parts[r],t))}else{for(var n=[],r=0;r<a.parts.length;r++)n.push(d(a.parts[r],t));y[a.id]={id:a.id,refs:1,parts:n}}}}function s(e,t){for(var o=[],a={},s=0;s<e.length;s++){var r=e[s],n=t.base?r[0]+t.base:r[0],i=r[1],l=r[2],_=r[3],d={css:i,media:l,sourceMap:_};a[n]?a[n].parts.push(d):o.push(a[n]={id:n,parts:[d]})}return o}function r(e,t){var o=g(e.insertInto);if(!o)throw new Error('Couldn\'t find a style target. This probably means that the value for the \'insertInto\' parameter is invalid.');var a=b[b.length-1];if('top'===e.insertAt)a?a.nextSibling?o.insertBefore(t,a.nextSibling):o.appendChild(t):o.insertBefore(t,o.firstChild),b.push(t);else if('bottom'===e.insertAt)o.appendChild(t);else if('object'==typeof e.insertAt&&e.insertAt.before){var s=g(e.insertInto+' '+e.insertAt.before);o.insertBefore(t,s)}else throw new Error('[Style Loader]\n\n Invalid value for parameter \'insertAt\' (\'options.insertAt\') found.\n Must be \'top\', \'bottom\', or Object.\n (https://github.com/webpack-contrib/style-loader#insertat)\n')}function n(e){if(null===e.parentNode)return!1;e.parentNode.removeChild(e);var t=b.indexOf(e);0<=t&&b.splice(t,1)}function i(e){var t=document.createElement('style');return e.attrs.type='text/css',_(t,e.attrs),r(e,t),t}function l(e){var t=document.createElement('link');return e.attrs.type='text/css',e.attrs.rel='stylesheet',_(t,e.attrs),r(e,t),t}function _(e,t){Object.keys(t).forEach(function(o){e.setAttribute(o,t[o])})}function d(e,t){var o,a,s,r;if(t.transform&&e.css)if(r=t.transform(e.css),r)e.css=r;else return function(){};if(t.singleton){var _=h++;o=u||(u=i(t)),a=c.bind(null,o,_,!1),s=c.bind(null,o,_,!0)}else e.sourceMap&&'function'==typeof URL&&'function'==typeof URL.createObjectURL&&'function'==typeof URL.revokeObjectURL&&'function'==typeof Blob&&'function'==typeof btoa?(o=l(t),a=m.bind(null,o,t),s=function(){n(o),o.href&&URL.revokeObjectURL(o.href)}):(o=i(t),a=p.bind(null,o),s=function(){n(o)});return a(e),function(t){if(t){if(t.css===e.css&&t.media===e.media&&t.sourceMap===e.sourceMap)return;a(e=t)}else s()}}function c(e,t,o,a){var s=o?'':a.css;if(e.styleSheet)e.styleSheet.cssText=v(t,s);else{var r=document.createTextNode(s),n=e.childNodes;n[t]&&e.removeChild(n[t]),n.length?e.insertBefore(r,n[t]):e.appendChild(r)}}function p(e,t){var o=t.css,a=t.media;if(a&&e.setAttribute('media',a),e.styleSheet)e.styleSheet.cssText=o;else{for(;e.firstChild;)e.removeChild(e.firstChild);e.appendChild(document.createTextNode(o))}}function m(e,t,o){var a=o.css,s=o.sourceMap,r=t.convertToAbsoluteUrls===void 0&&s;(t.convertToAbsoluteUrls||r)&&(a=w(a)),s&&(a+='\n/*# sourceMappingURL=data:application/json;base64,'+btoa(unescape(encodeURIComponent(JSON.stringify(s))))+' */');var n=new Blob([a],{type:'text/css'}),i=e.href;e.href=URL.createObjectURL(n),i&&URL.revokeObjectURL(i)}var y={},f=function(e){var t;return function(){return'undefined'==typeof t&&(t=e.apply(this,arguments)),t}}(function(){return window&&document&&document.all&&!window.atob}),x=function(e){return document.querySelector(e)},g=function(){var e={};return function(t){if('function'==typeof t)return t();if('undefined'==typeof e[t]){var o=x.call(this,t);if(window.HTMLIFrameElement&&o instanceof window.HTMLIFrameElement)try{o=o.contentDocument.head}catch(t){o=null}e[t]=o}return e[t]}}(),u=null,h=0,b=[],w=o(49);e.exports=function(e,t){if('undefined'!=typeof DEBUG&&DEBUG&&'object'!=typeof document)throw new Error('The style-loader cannot be used in a non-browser environment');t=t||{},t.attrs='object'==typeof t.attrs?t.attrs:{},t.singleton||'boolean'==typeof t.singleton||(t.singleton=f()),t.insertInto||(t.insertInto='head'),t.insertAt||(t.insertAt='bottom');var o=s(e,t);return a(o,t),function(e){for(var r=[],n=0;n<o.length;n++){var i=o[n],l=y[i.id];l.refs--,r.push(l)}if(e){var _=s(e,t);a(_,t)}for(var l,n=0;n<r.length;n++)if(l=r[n],0===l.refs){for(var d=0;d<l.parts.length;d++)l.parts[d]();delete y[l.id]}}};var v=function(){var e=[];return function(t,o){return e[t]=o,e.filter(Boolean).join('\n')}}()},function(e){e.exports=function(e){var t='undefined'!=typeof window&&window.location;if(!t)throw new Error('fixUrls requires window.location');if(!e||'string'!=typeof e)return e;var o=t.protocol+'//'+t.host,a=o+t.pathname.replace(/\/[^\/]*$/,'/'),s=e.replace(/url\s*\(((?:[^)(]|\((?:[^)(]+|\([^)(]*\))*\))*)\)/gi,function(e,t){var s=t.trim().replace(/^"(.*)"$/,function(e,t){return t}).replace(/^'(.*)'$/,function(e,t){return t});if(/^(#|data:|http:\/\/|https:\/\/|file:\/\/\/)/i.test(s))return e;var r;return r=0===s.indexOf('//')?s:0===s.indexOf('/')?o+s:a+s.replace(/^\.\//,''),'url('+JSON.stringify(r)+')'});return s}},function(e,t,o){'use strict';o.d(t,'a',function(){return n});var a=o(1),s=o(51),r=o(52),n={debug:!1,speed:1,frame:{interval:!1,intervalMs:100},canvas:{mode:'contain',ratio:1,scaleAxis:'width',maxPixels:1440000},state:{intro:{},splash:{},demo:{speed:5.5,levels:s.a.tiles},instructions:{},play:{time:213,zIndex:{hud:10,player:5,level:3},speed:1.2,startLevel:0,levels:s.a.tiles},pause:{},gameOver:{zIndex:8},scores:{},about:{url:{author:'http://andretorgal.com',feedback:'https://andrezero.typeform.com/to/rTl0RU'}},credits:{}},assets:['./assets/pixel.woff']}},function(e,t,o){'use strict';o.d(t,'a',function(){return s});var a=o(1);const s={tiles:[{speed:1,player:{maxHoldSec:60},walls:[{pos:'top',x:280,h:400,grow:300,phase:a.b,freq:0.15},{pos:'bottom',x:700,h:300,grow:200,phase:0,freq:0.3},{pos:'top',x:700,h:300,grow:200,phase:0,freq:0.3},{pos:'top',x:0,h:400,w:100,color:'rgb(50,50,180)'},{pos:'top',x:100,h:350,w:400,color:'rgb(50,50,180)'},{pos:'top',x:500,h:400,w:180,color:'rgb(50,50,180)'},{pos:'top',x:680,h:380,w:50,color:'rgb(50,50,180)'},{pos:'top',x:730,h:400,w:270,color:'rgb(50,50,180)'},{pos:'bottom',x:0,h:400,w:680,color:'rgb(30,30,150)'},{pos:'bottom',x:680,h:380,w:50,color:'rgb(30,30,150)'},{pos:'bottom',x:730,h:400,w:270,color:'rgb(30,30,150)'}],drops:[{trigger:300,pos:400,freq:1}],messages:[{restarts:1,text:'hold down <SPACE> to slow down'}]},{speed:1.1,player:{},walls:[{pos:'top',x:280,h:300,grow:200,phase:0,freq:0.3},{pos:'bottom',x:280,h:300,grow:200,phase:0,freq:0.3},{pos:'bottom',x:700,h:400,grow:300,phase:0,freq:0.3},{pos:'top',x:0,h:400,w:260,color:'rgb(50,50,180)'},{pos:'top',x:260,h:380,w:50,color:'rgb(50,50,180)'},{pos:'top',x:310,h:400,w:690,color:'rgb(50,50,180)'},{pos:'bottom',x:0,h:400,w:260,color:'rgb(30,30,150)'},{pos:'bottom',x:260,h:380,w:50,color:'rgb(30,30,150)'},{pos:'bottom',x:310,h:400,w:190,color:'rgb(30,30,150)'},{pos:'bottom',x:500,h:350,w:400,color:'rgb(30,30,150)'},{pos:'bottom',x:900,h:400,w:100,color:'rgb(30,30,150)'}],drops:[{trigger:300,pos:400,freq:1}],messages:[{restarts:1,text:'slow down early to recover speed sooner'}]},{speed:1.15,player:{},walls:[{pos:'top',x:250,h:100,grow:500,freq:0.5},{pos:'bottom',x:500,h:200,grow:350,freq:0.3},{pos:'top',x:650,h:100,grow:500,freq:0.5},{pos:'bottom',x:900,h:200,grow:300,freq:0.3},{pos:'top',x:0,h:400,w:210,color:'rgb(50,50,180)'},{pos:'top',x:210,h:350,w:490,color:'rgb(50,50,180)'},{pos:'top',x:700,h:400,w:310,color:'rgb(50,50,180)'},{pos:'bottom',x:0,h:400,w:450,color:'rgb(30,30,150)'},{pos:'bottom',x:450,h:350,w:500,color:'rgb(30,30,150)'},{pos:'bottom',x:950,h:400,w:50,color:'rgb(30,30,150)'}],drops:[{trigger:300,pos:400,freq:1}],messages:[{restarts:1,text:'slowing down for too long will kill you'}]},{speed:1.2,player:{},walls:[{pos:'top',x:250,h:300,grow:400,phase:a.a,freq:0.3},{pos:'bottom',x:250,h:300,grow:400,phase:a.a,freq:0.3},{pos:'top',x:500,h:350,grow:300,phase:a.a,freq:0.5},{pos:'bottom',x:720,h:0,grow:500,phase:a.a,freq:0.7},{pos:'top',x:720,h:0,grow:500,phase:a.a,freq:0.7},{pos:'top',x:0,h:400,w:230,color:'rgb(50,50,180)'},{pos:'top',x:230,h:380,w:50,color:'rgb(50,50,180)'},{pos:'top',x:280,h:400,w:120,color:'rgb(50,50,180)'},{pos:'top',x:400,h:350,w:200,color:'rgb(50,50,180)'},{pos:'top',x:600,h:400,w:100,color:'rgb(50,50,180)'},{pos:'top',x:700,h:380,w:50,color:'rgb(50,50,180)'},{pos:'top',x:750,h:400,w:250,color:'rgb(50,50,180)'},{pos:'bottom',x:0,h:400,w:230,color:'rgb(30,30,150)'},{pos:'bottom',x:230,h:380,w:50,color:'rgb(30,30,150)'},{pos:'bottom',x:280,h:400,w:420,color:'rgb(30,30,150)'},{pos:'bottom',x:700,h:380,w:50,color:'rgb(30,30,150)'},{pos:'bottom',x:750,h:400,w:250,color:'rgb(30,30,150)'}],drops:[{trigger:300,pos:400,freq:1}]},{speed:1.3,player:{},walls:[{pos:'bottom',x:240,h:200,grow:500,phase:0,freq:0.4},{pos:'top',x:420,h:300,grow:300,phase:a.b,freq:0.6},{pos:'bottom',x:420,h:300,grow:300,phase:a.b,freq:0.6},{pos:'bottom',x:580,h:400,grow:400,phase:a.a,freq:0.1},{pos:'top',x:800,h:300,grow:400,phase:a.a,freq:0.2},{pos:'bottom',x:800,h:300,grow:400,phase:a.a,freq:0.2},{pos:'top',x:0,h:400,w:400,color:'rgb(50,50,180)'},{pos:'top',x:400,h:380,w:50,color:'rgb(50,50,180)'},{pos:'top',x:450,h:400,w:330,color:'rgb(50,50,180)'},{pos:'top',x:780,h:380,w:50,color:'rgb(50,50,180)'},{pos:'top',x:830,h:400,w:1e3,color:'rgb(50,50,180)'},{pos:'bottom',x:0,h:400,w:200,color:'rgb(30,30,150)'},{pos:'bottom',x:200,h:350,w:200,color:'rgb(30,30,150)'},{pos:'bottom',x:400,h:380,w:50,color:'rgb(30,30,150)'},{pos:'bottom',x:450,h:350,w:180,color:'rgb(30,30,150)'},{pos:'bottom',x:630,h:400,w:150,color:'rgb(30,30,150)'},{pos:'bottom',x:780,h:380,w:50,color:'rgb(30,30,150)'},{pos:'bottom',x:830,h:400,w:170,color:'rgb(30,30,150)'}],drops:[{trigger:300,pos:400,freq:1}]},{speed:1.4,player:{},walls:[{pos:'top',x:150,h:400,grow:200,phase:a.b,freq:0.5},{pos:'top',x:250,h:400,grow:200,phase:a.a,freq:0.6},{pos:'top',x:350,h:400,grow:200,phase:a.a,freq:0.4},{pos:'top',x:450,h:380,grow:200,phase:a.c,freq:0.8},{pos:'bottom',x:550,h:400,grow:200,phase:a.c,freq:0.5},{pos:'bottom',x:600,h:200,grow:400,phase:a.b,freq:0.4},{pos:'bottom',x:800,h:300,w:140,grow:300,phase:a.c,freq:0.3},{pos:'top',x:0,h:400,w:120,color:'rgb(50,50,180)'},{pos:'top',x:120,h:350,w:370,color:'rgb(50,50,180)'},{pos:'top',x:490,h:400,w:170,color:'rgb(50,50,180)'},{pos:'top',x:640,h:460,w:360,color:'rgb(50,50,180)'},{pos:'bottom',x:0,h:400,w:520,color:'rgb(30,30,150)'},{pos:'bottom',x:520,h:350,w:120,color:'rgb(30,30,150)'},{pos:'bottom',x:640,h:460,w:360,color:'rgb(30,30,150)'}],drops:[{trigger:300,pos:400,freq:1}]},{speed:1.5,maxX:350,player:{},walls:[{pos:'top',x:0,h:460,w:40,color:'rgb(50,50,180)'},{pos:'bottom',x:0,h:460,w:40,color:'rgb(30,30,150)'},{pos:'top',x:40,h:40,w:920,color:'rgb(50,50,180)'},{pos:'bottom',x:40,h:40,w:920,color:'rgb(30,30,150)'},{pos:'top',x:960,h:500,w:40,color:'rgb(50,50,180)'},{pos:'bottom',x:960,h:500,w:40,color:'rgb(30,30,150)'}],drops:[{trigger:300,pos:400,freq:1}]}]}},function(e,t,o){'use strict';var a=o(1);({tiles:[{speed:1.1,player:{},walls:[{pos:'top',x:990,h:900,grow:100,phase:a.a,freq:0.25}],drops:[{trigger:300,pos:400,freq:1}],messages:[{restarts:1,text:'press UP or DOWN to start swinging'}]},{speed:1.14,player:{},walls:[{pos:'top',x:350,h:500,grow:200,freq:0.25},{pos:'bottom',x:650,h:500,grow:400,freq:0.25},{pos:'top',x:0,h:300,w:500,color:'rgb(180,50,80)'},{pos:'top',x:500,h:100,w:300,color:'rgb(180,50,80)'},{pos:'top',x:800,h:300,w:200,color:'rgb(180,50,80)'},{pos:'bottom',x:0,h:400,w:200,color:'rgb(150,30,80)'},{pos:'bottom',x:200,h:100,w:500,color:'rgb(150,30,80)'},{pos:'bottom',x:500,h:400,w:500,color:'rgb(150,30,80)'}],drops:[{trigger:300,pos:400,freq:1}],messages:[{restarts:1,text:'press UP or DOWN against swing to swing less'}]},{speed:1.15,player:{},walls:[{pos:'top',x:500,h:500,grow:100,freq:1}],drops:[{trigger:300,pos:400,freq:1}]},{speed:1.16,player:{},walls:[{pos:'top',x:500,h:500,grow:100,freq:1}],drops:[{trigger:300,pos:400,freq:1}]},{speed:1.17,player:{},walls:[{pos:'top',x:500,h:500,grow:100,freq:1}],drops:[{trigger:300,pos:400,freq:1}]},{speed:1.18,player:{},walls:[{pos:'top',x:500,h:500,grow:100,freq:1}],drops:[{trigger:300,pos:400,freq:1}]},{speed:1.19,player:{},walls:[{pos:'top',x:500,h:500,grow:100,freq:1}],drops:[{trigger:300,pos:400,freq:1}]},{speed:1.2,player:{},walls:[{pos:'top',x:500,h:500,grow:100,freq:1}],drops:[{trigger:300,pos:400,freq:1}]},{speed:1.21,player:{},walls:[{pos:'top',x:500,h:500,grow:100,freq:1}],drops:[{trigger:300,pos:400,freq:1}]}]})}]);